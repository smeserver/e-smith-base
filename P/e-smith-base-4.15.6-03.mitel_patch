Index: e-smith-base/e-smith-base.spec
diff -u /dev/null e-smith-base/root/etc/e-smith/templates/etc/inittab/14nonetworkdrivers:1.1
--- /dev/null	Thu Oct 20 12:24:18 2005
+++ e-smith-base/root/etc/e-smith/templates/etc/inittab/14nonetworkdrivers	Thu Oct 20 12:12:44 2005
@@ -0,0 +1 @@
+nn::sysinit:/bin/sh /sbin/e-smith/nonetworkdrivers
Index: e-smith-base/root/sbin/e-smith/nonetworkdrivers
diff -u /dev/null e-smith-base/root/sbin/e-smith/nonetworkdrivers:1.1
--- /dev/null	Thu Oct 20 12:24:20 2005
+++ e-smith-base/root/sbin/e-smith/nonetworkdrivers	Thu Oct 20 12:12:44 2005
@@ -0,0 +1,12 @@
+#! /bin/sh
+
+# unload any network drivers which have been installed
+# by rc.sysinit, so that we can allocate eth0/eth1 as we
+# choose, rather than in order defined by kmodule
+kmodule | while read devtype mod
+do
+   if [ "$devtype" = "NETWORK" ]
+   then
+        /sbin/rmmod $mod 2>/dev/null
+   fi
+done
