diff -Nur -x '*.orig' -x '*.rej' e-smith-base-4.16.0/root/etc/e-smith/events/actions/purge-old-logs mezzanine_patched_e-smith-base-4.16.0/root/etc/e-smith/events/actions/purge-old-logs
--- e-smith-base-4.16.0/root/etc/e-smith/events/actions/purge-old-logs	2007-01-13 21:49:19.000000000 -0700
+++ mezzanine_patched_e-smith-base-4.16.0/root/etc/e-smith/events/actions/purge-old-logs	2007-01-13 21:48:34.000000000 -0700
@@ -24,6 +24,12 @@
 use strict;
 use Errno;
 use File::Find;
+use esmith::ConfigDB;
+
+my $cdb = esmith::ConfigDB->open_ro;
+
+my $syslog = $cdb->get('syslog') or die "No syslog db entry found";
+my $length = $syslog->prop('PurgeLength') || '95';
 
 $ENV{'PATH'} = "/bin";
 
@@ -35,7 +41,6 @@
 # and eliminate them.
 #----------------------------------------------------------------------
 
-my $length = $syslog{PurgeLength} || '95';
 
 chdir "/var/log/"
     or die "Could not chdir to /var/log";
